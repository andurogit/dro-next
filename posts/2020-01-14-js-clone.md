---
layout: post
title:  "javascript clone"
date:   2020-01-14 09:00:00 +0900
categories: [javascript]
tag: [clone]
---

* TOC
{:toc}

# clone ì„ í•˜ëŠ” ì´ìœ 


* ìš°ë¦¬ëŠ” í”íˆ ê°’ì„ ë°°ì • í˜¹ì€ ë³€ìˆ˜ì— ë„£ì„ ë•Œ `=` ì—°ì‚°ìë¥¼ ì‚¬ìš© í•œë‹¤.
    * ì˜ˆë¥¼ ë“¤ë©´ `var number_val = 1;`
* ë‹¤ë¥¸ ë³€ìˆ˜ë¥¼ ì§€ì •ì„ í•˜ê³  ê·¸ ê°’ì„ ë˜ ë‹¤ë¥¸ ë³€ìˆ˜ì— `=` ì—°ì‚°ìë¥¼ ì´ìš©í•˜ì—¬ ì§€ì •í•œë‹¤ë©´?
    * var number_val2 = 0;
    * number_val = number_val2
    * ì´ë ‡ê²Œ ì§€ì •ì„ í•œë‹¤ë©´ ë‘ ë³€ìˆ˜ì— ê°’ì€ ì–´ì°Œ ë ê¹Œ?
    * ë‘ ë³€ìˆ˜ì— ê°’ì€ ë‚˜ì¤‘ì— ì§€ì • ëœ 0 ê°’ìœ¼ë¡œ ë³€ë™ ëœë‹¤.
        * 0ê°€ ëœ ì´ìœ ëŠ” `=` ì—°ì‚°ìëŠ” ì˜¤ë¥¸ìª½ì— ìˆëŠ” ê°’ì„ ì™¼ìª½ìœ¼ë¡œ ë„£ëŠ”ë‹¤ ë¼ëŠ” ì˜ë¯¸ì´ê¸° ë–„ë¬¸ì´ë‹¤.
* ì´ë ‡ê²Œ ê°’ì„ ì§€ì •í•˜ëŠ” ê²½ìš°ëŠ” `=` ì—°ì‚°ìë¥¼ í†µí•´ ê°€ëŠ¥í•˜ë‹¤
* ì´ëŸ° ë³µì‚¬ë¥¼ í•˜ëŠ” ê³¼ì •ì— ë°°ì—´ì´ë¼ëŠ” ê·¸ë¦‡ì´ ë“¤ì–´ì˜¤ë©´ ì´ì•¼ê¸°ê°€ ë‹¬ë¼ì§„ë‹¤.
    * 1ì°¨ì› ë°°ì—´ { 1, 2, 3, 4} ì™€ ê°™ì€ ê²½ìš°ëŠ” ë¬¸ì œê°€ ì—†ì§€ë§Œ
    * 2ì°¨ì› ì´ìƒì˜ ë°°ì—´ { 1 , {2,3}, 4} ì´ëŸ° ë°°ì—´ì˜ ê²½ìš°ëŠ” `=` ì—°ì‚°ìë¡œ ë³µì‚¬ í•  ìˆ˜ ì—†ë‹¤.
* í•´ë‹¹ í˜ì´ì§€ëŠ” ì•„ë˜ ì½”ë“œë¥¼ script í˜•íƒœë¡œ ì½”ë”©í•´ ë†“ì•˜ìœ¼ë¯€ë¡œ F12ë¥¼ ì´ìš©í•´ ê°’ì„ console ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
* _.clone ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸° clone í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  lodash ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ê³  í•´ë‹¹ ë¸”ë¡œê·¸ì—ëŠ” lodash.js ê°€ ë¡œë”©ë˜ì–´ ìˆë‹¤.
  * lodash ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì—†ë‹¤ë©´ _.clone ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

```javascript

const externalObject = {
  color: 'red'
}

const original = {
  a: new Date(),
  b: NaN,
  c: new Function(),
  d: undefined,
  e: function() {},
  f: Number,
  g: false,
  h: Infinity,
  i: externalObject
}

const cloned = _.clone(original)

externalObject.color = 'blue'

console.info('â¬‡ï¸ shallow cloning ğŸŒˆ')
console.info(
  'âœï¸ Notice the i.color property we changed on original is also changed in the shallow copy'
)
console.log(original)
console.log(cloned)

const deepcloned = _.cloneDeep(original)

externalObject.color = 'yellow'
console.log('')
console.info('â¬‡ï¸ deep cloning ğŸŒˆ')
console.info('âœï¸ Notice the i.color property does not propagate any more')
console.log(original)
console.log(deepcloned)
```

<script >

const externalObject = {
  color: 'red'
}

const original = {
  a: new Date(),
  b: NaN,
  c: new Function(),
  d: undefined,
  e: function() {},
  f: Number,
  g: false,
  h: Infinity,
  i: externalObject
}

const cloned = _.clone(original)

externalObject.color = 'blue'

console.info('â¬‡ï¸ shallow cloning ğŸŒˆ')
console.info(
  'âœï¸ Notice the i.color property we changed on original is also changed in the shallow copy'
)
console.log(original)
console.log(cloned)

const deepcloned = _.cloneDeep(original)

externalObject.color = 'yellow'
console.log('')
console.info('â¬‡ï¸ deep cloning ğŸŒˆ')
console.info('âœï¸ Notice the i.color property does not propagate any more')
console.log(original)
console.log(deepcloned)
</script>